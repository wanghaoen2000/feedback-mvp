=== 前端 SSE-DEBUG 日志 ===
测试配置: 4个任务, 并发数2

[log] [SSE-DEBUG] 测试开始, 时间: 2026-01-24T09:40:59.323Z
[log] [SSE-DEBUG] 收到事件: batch-start, 数据: {batchId: 20260124-174120, totalTasks: 4, concurrency: 2, startNumber: 1, endNumber: 4}
[log] [BatchProcess] 参数快照已保存, batchId: 20260124-174120
[log] [SSE-DEBUG] 收到事件: task-start, 数据: {taskNumber: 1, batchId: 20260124-174120, message: 任务 1 开始处理, timestamp: 1769247685082}
[log] [SSE-DEBUG] 收到事件: task-start, 数据: {taskNumber: 2, batchId: 20260124-174120, message: 任务 2 开始处理, timestamp: 1769247685085}
[log] [SSE-DEBUG] 收到事件: task-retry, 数据: {taskNumber: 1, batchId: 20260124-174120, retryCount: 1, maxRetries: 1, error: fetch failed}
[log] [SSE-DEBUG] 收到事件: task-retry, 数据: {taskNumber: 2, batchId: 20260124-174120, retryCount: 1, maxRetries: 1, error: fetch failed}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 1, chars: 5, timestamp: 1769247710232}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 1, chars: 15, timestamp: 1769247710233}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 1, chars: 15, message: 正在生成 Word 文档..., timestamp: 1769247710233}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 1, chars: 15, message: 正在上传到 Google Drive..., timestamp: 1769247710292}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 2, chars: 7, timestamp: 1769247711473}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 2, chars: 15, timestamp: 1769247711474}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 2, chars: 15, message: 正在生成 Word 文档..., timestamp: 1769247711474}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 2, chars: 15, message: 正在上传到 Google Drive..., timestamp: 1769247711490}
[log] [SSE-DEBUG] 收到事件: task-complete, 数据: {taskNumber: 1, batchId: 20260124-174120, chars: 15, filename: 新托福_词汇填空题（天文-初级）-配套预热01.docx, url: ...}
[log] [SSE-DEBUG] 收到事件: task-start, 数据: {taskNumber: 3, batchId: 20260124-174120, message: 任务 3 开始处理, timestamp: 1769247714357}
[log] [SSE-DEBUG] 收到事件: task-complete, 数据: {taskNumber: 2, batchId: 20260124-174120, chars: 15, filename: 新托福_词汇填空题（天文-初级）-配套预热02.docx, url: ...}
[log] [SSE-DEBUG] 收到事件: task-start, 数据: {taskNumber: 4, batchId: 20260124-174120, message: 任务 4 开始处理, timestamp: 1769247715700}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 3, chars: 7, timestamp: 1769247716811}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 3, chars: 15, timestamp: 1769247716812}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 3, chars: 15, message: 正在生成 Word 文档..., timestamp: 1769247716812}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 3, chars: 15, message: 正在上传到 Google Drive..., timestamp: 1769247716830}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 4, chars: 7, timestamp: 1769247718449}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 4, chars: 15, timestamp: 1769247718449}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 4, chars: 15, message: 正在生成 Word 文档..., timestamp: 1769247718450}
[log] [SSE-DEBUG] 收到事件: task-progress, 数据: {taskNumber: 4, chars: 15, message: 正在上传到 Google Drive..., timestamp: 1769247718465}
[log] [SSE-DEBUG] 收到事件: task-complete, 数据: {taskNumber: 3, batchId: 20260124-174120, chars: 15, filename: 新托福_词汇填空题（天文-初级）-配套预热03.docx, url: ...}
[log] [SSE-DEBUG] 收到事件: task-complete, 数据: {taskNumber: 4, batchId: 20260124-174120, chars: 15, filename: 新托福_词汇填空题（天文-初级）-配套预热04.docx, url: ...}
[log] [SSE-DEBUG] 收到事件: batch-complete, 数据: {batchId: 20260124-174120, totalTasks: 4, completed: 4, failed: 0, stopped: false}
[log] [SSE-DEBUG] SSE 流结束, 时间: 2026-01-24T09:42:02.840Z

=== 测试结果 ===
- 测试开始时间: 2026-01-24T09:40:59.323Z
- 测试结束时间: 2026-01-24T09:42:02.840Z
- 总耗时: 约 63 秒
- 任务数: 4
- 成功: 4
- 失败: 0
- 结果: 成功完成，SSE 流正常结束

=== 关键观察 ===
1. 本次测试成功完成，没有出现连接断开问题
2. 所有 SSE 事件都正常接收
3. batch-complete 事件正常发送和接收
4. SSE 流正常结束
